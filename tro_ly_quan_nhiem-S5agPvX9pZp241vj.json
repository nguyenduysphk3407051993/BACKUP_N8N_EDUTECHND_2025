{"createdAt":"2025-08-17T15:05:37.616Z","updatedAt":"2025-09-21T22:54:36.278Z","id":"S5agPvX9pZp241vj","name":"TRO_LY_QUAN_NHIEM","active":true,"isArchived":false,"nodes":[{"parameters":{"sessionIdType":"customKey","sessionKey":"={{ $('INPUT_AIAGENT').item.json.chat_id}}","tableName":"multy_aiagent_chat_histories"},"type":"@n8n/n8n-nodes-langchain.memoryPostgresChat","typeVersion":1.3,"position":[-304,-32],"id":"75191c48-68e3-4bb5-aafb-392d96c58103","name":"Postgres Chat Memory","credentials":{"postgres":{"id":"TZUniEFq0fvsFUmr","name":"Postgres Seflhost"}}},{"parameters":{"assignments":{"assignments":[{"id":"5f896984-b923-4d4c-90e8-54d5aa866914","name":"chatInput","value":"={{ $json.text }}","type":"string"},{"id":"e7058ca5-7d1b-4da7-8bb6-b9129fe02add","name":"system_prompt","value":"={{ $json.system_prompt }}","type":"string"},{"id":"62f93aec-0e5b-4208-aa6d-284405dfd8f3","name":"chat_id","value":"={{ $json.chatId }}","type":"number"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-640,-304],"id":"e1c31b45-108d-4e49-8c95-9362bc03f76d","name":"INPUT_AIAGENT"},{"parameters":{"toolDescription":"=C√¥ng c·ª• t·∫°o c√¢u h·ªèi lo·∫°i 1, lo·∫°i 2,lo·∫°i 3, lo·∫°i 4 theo form latex","method":"POST","url":"http://python_service:5000/execute-task","sendBody":true,"specifyBody":"json","jsonBody":"={\n    \"task_name\": \"latex_generate\",\n    \"payload\": {\n        \"user_request\": \"{{ $fromAI('Prompt__User_Message_', ``, 'string') }}\",\n        \"model\": \"gemini-2.5-flash\"\n    }\n}","options":{}},"type":"n8n-nodes-base.httpRequestTool","typeVersion":4.2,"position":[-16,-48],"id":"73dbe9af-1ee4-4c0f-b3a1-a20511a15a9a","name":"Latex_Generate_Tool"},{"parameters":{"assignments":{"assignments":[{"id":"5f896984-b923-4d4c-90e8-54d5aa866914","name":"chatInput","value":"={{ $json.output }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-16,-304],"id":"6045147a-2380-4d83-a6b4-81b33ae5dc94","name":"OUTPUT_AIAGENT"},{"parameters":{"promptType":"define","text":"={{ $('INPUT_AIAGENT').item.json.chatInput }}","hasOutputParser":true,"needsFallback":true,"options":{"systemMessage":"={{ $('INPUT_AIAGENT').item.json.system_prompt }}"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[-448,-304],"id":"6bd429f5-8900-4e75-992d-e64f903c050d","name":"TRO_LY_QUAN_NHIEM"},{"parameters":{"model":"openai/gpt-5-mini","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenRouter","typeVersion":1,"position":[-448,-32],"id":"5fd424a7-415b-470b-adf0-16e6d6f5dab3","name":"OpenRouter_openai/gpt-5-mini","credentials":{"openRouterApi":{"id":"KOGZRC7RbIZ3i6GF","name":"OpenRouter_gpt_5_mini"}}},{"parameters":{"authentication":"nocoDbApiToken","operation":"getAll","projectId":"p6dtfbs5vwoecdc","table":"mto8zlhj9assjzv","options":{}},"type":"n8n-nodes-base.nocoDbTool","typeVersion":3,"position":[-160,-32],"id":"bf78bc5f-4b80-475a-a50e-9f3b6f1f5736","name":"LY_LICH_HOC_SINH_TOOL","credentials":{"nocoDbApiToken":{"id":"1CLDf2cb4oYaVzJf","name":"NocoDB Token account"}}},{"parameters":{"chatId":"={{ $('INPUT_AIAGENT').item.json.chat_id }}","text":"={{ $json.output.replaceAll(\"\\\\\",\"\") }}","additionalFields":{"appendAttribution":false,"parse_mode":"HTML"}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[432,-288],"id":"35b50f42-e60f-41b7-848f-5998add997dd","name":"Send_message","webhookId":"5e8d33d5-106e-45bf-ade9-1c28d887bdd2","credentials":{"telegramApi":{"id":"SmlW1Rp2dBJjxFTu","name":"TRO_LY_QUAN_NHIEM"}}},{"parameters":{"jsCode":"// 1. L·∫•y d·ªØ li·ªáu th√¥\nconst rawInput = $input.first().json.chatInput || '';\n\n// --- H√ÄM TI·ªÜN √çCH ---\n\n/**\n¬†* H√†m ti·ªán √≠ch: \"L√†m s·∫°ch\" c√°c k√Ω t·ª± HTML ƒë·∫∑c bi·ªát trong m·ªôt chu·ªói.\n¬†* @param {string} text - VƒÉn b·∫£n c·∫ßn l√†m s·∫°ch.\n¬†* @returns {string} - VƒÉn b·∫£n ƒë√£ ƒë∆∞·ª£c l√†m s·∫°ch.\n¬†*/\nfunction escapeHtml(text) {\n¬† if (!text) return '';\n¬† return text\n¬† ¬† .replace(/&/g, \"&amp;\")\n¬† ¬† .replace(/</g, \"&lt;\")\n¬† ¬† .replace(/>/g, \"&gt;\")\n¬† ¬† .replace(/\"/g, \"&quot;\")\n¬† ¬† .replace(/'/g, \"&#39;\");\n}\n\n/**\n¬†* ƒê·ªãnh d·∫°ng m·ªôt chu·ªói d∆∞·ªõi d·∫°ng kh·ªëi m√£, s·ª≠ d·ª•ng h√†m escapeHtml.\n¬†* @param {string} text - VƒÉn b·∫£n c·∫ßn ƒë·ªãnh d·∫°ng.\n¬†* @returns {string} - Chu·ªói HTML ƒë√£ ƒë∆∞·ª£c ƒë·ªãnh d·∫°ng.\n¬†*/\nfunction formatAsCode(text) {\n¬† return `<pre><code>${escapeHtml(text)}</code></pre>`;\n}\n\n/**\n¬†* Chia vƒÉn b·∫£n th√†nh c√°c chunk AN TO√ÄN cho Telegram.\n¬†* @param {string} text - VƒÉn b·∫£n c·∫ßn chia.\n¬†* @param {number} maxLength - ƒê·ªô d√†i k√Ω t·ª± t·ªëi ƒëa cho m·ªói chunk. M·∫∑c ƒë·ªãnh l√† 4000 ƒë·ªÉ an to√†n v·ªõi Telegram.\n¬†* @returns {string[]} - M·∫£ng c√°c chunk.\n¬†*/\nfunction getTextChunks(text, maxLength = 4000) {\n¬† ¬† if (!text || text.trim().length === 0) {\n¬† ¬† ¬† ¬† return [];\n¬† ¬† }\n\n¬† ¬† const chunks = [];\n¬† ¬† let textToProcess = text;\n\n¬† ¬† while (textToProcess.length > 0) {\n¬† ¬† ¬† ¬† if (textToProcess.length <= maxLength) {\n¬† ¬† ¬† ¬† ¬† ¬† chunks.push(textToProcess);\n¬† ¬† ¬† ¬† ¬† ¬† break;\n¬† ¬† ¬† ¬† }\n\n¬† ¬† ¬† ¬† let chunkCandidate = textToProcess.slice(0, maxLength);\n¬† ¬† ¬† ¬† let splitIndex = maxLength;¬†\n\n¬† ¬† ¬† ¬† const breakPoints = ['\\n\\n', '\\n', '. ', ' '];\n¬† ¬† ¬† ¬† for (const breakPoint of breakPoints) {\n¬† ¬† ¬† ¬† ¬† ¬† const lastBreak = chunkCandidate.lastIndexOf(breakPoint);\n¬† ¬† ¬† ¬† ¬† ¬† if (lastBreak > maxLength * 0.7) {\n¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† splitIndex = lastBreak;\n¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† break;\n¬† ¬† ¬† ¬† ¬† ¬† }\n¬† ¬† ¬† ¬† }\n\n¬† ¬† ¬† ¬† const chunk = textToProcess.slice(0, splitIndex);\n¬† ¬† ¬† ¬† chunks.push(chunk);\n¬† ¬† ¬† ¬†¬†\n¬† ¬† ¬† ¬† textToProcess = textToProcess.slice(splitIndex).trim();\n¬† ¬† }\n\n¬† ¬† return chunks.filter(chunk => chunk.trim().length > 0);\n}\n\n\n// --- LOGIC CH√çNH ---\nconst allChunks = [];\n\n// TR∆Ø·ªúNG H·ª¢P 1: X·ª≠ l√Ω file b√†i t·∫≠p ƒë·∫∑c bi·ªát c·ªßa b·∫°n\n// N·∫øu input b·∫Øt ƒë·∫ßu b·∫±ng '%%%==============SA_', coi to√†n b·ªô l√† m·ªôt kh·ªëi m√£\nif (rawInput.trim().startsWith('%%%========')) {\n    const codeChunks = getTextChunks(rawInput);\n    for (const chunk of codeChunks) {\n        allChunks.push({ json: { output: formatAsCode(chunk) } });\n    }\n} \n// TR∆Ø·ªúNG H·ª¢P 2: X·ª≠ l√Ω c√°c lo·∫°i vƒÉn b·∫£n h·ªón h·ª£p kh√°c\nelse {\n    const patterns = [\n      '%%%.*?%%%[\\\\s\\\\S]*?\\\\begin{bt}[\\\\s\\\\S]*?\\\\end{bt}',\n      '%%%.*?%%%[\\\\s\\\\S]*?\\\\begin{ex}[\\\\s\\\\S]*?\\\\end{ex}',\n      '%%%.*?%%%[\\\\s\\\\S]*?\\\\begin{vd}[\\\\s\\\\S]*?\\\\end{vd}',\n      '```[\\\\s\\\\S]*?```',\n      '%%%.*?%%%',\n      '\\\\begin{ex}[\\\\s\\\\S]*?\\\\end{ex}',\n      '\\\\begin{bt}[\\\\s\\\\S]*?\\\\end{bt}',\n      '\\\\begin{vd}[\\\\s\\\\S]*?\\\\end{vd}',\n      '\\\\begin{lstlisting}[\\\\s\\\\S]*?\\\\end{lstlisting}',\n      '\\\\begin{verbatim}[\\\\s\\\\S]*?\\\\end{verbatim}',\n      '\\\\begin{code}[\\\\s\\\\S]*?\\\\end{code}',\n      '\\\\$\\\\$[\\\\s\\\\S]*?\\\\$\\\\$',\n      '<code>[\\\\s\\\\S]*?</code>',\n      '<pre>[\\\\s\\\\S]*?</pre>',\n      '`[^`\\\\n]+`',\n    ];\n\n    const specialBlocksRegex = new RegExp(`(${patterns.join('|')})`, 'g');\n    let currentIndex = 0;\n    let match;\n\n    try {\n      while ((match = specialBlocksRegex.exec(rawInput)) !== null) {\n        const plainText = rawInput.substring(currentIndex, match.index);\n        if (plainText && plainText.trim()) {\n          const plainTextChunks = getTextChunks(plainText);\n          for (const chunk of plainTextChunks) {\n            allChunks.push({ json: { output: chunk } });\n          }\n        }\n\n        const specialBlock = match[0];\n        if (specialBlock && specialBlock.trim()) {\n          const specialBlockChunks = getTextChunks(specialBlock);\n          for (const chunk of specialBlockChunks) {\n            allChunks.push({ json: { output: formatAsCode(chunk) } });\n          }\n        }\n        currentIndex = specialBlocksRegex.lastIndex;\n      }\n\n      const remainingText = rawInput.substring(currentIndex);\n      if (remainingText && remainingText.trim()) {\n        const plainTextChunks = getTextChunks(remainingText);\n        for (const chunk of plainTextChunks) {\n          allChunks.push({ json: { output: chunk } });\n        }\n      }\n    } catch (error) {\n      console.error('Error processing with regex, using fallback:', error);\n      const fallbackChunks = getTextChunks(rawInput);\n      for (const chunk of fallbackChunks) {\n        allChunks.push({ json: { output: chunk } });\n      }\n    }\n}\n\nif (allChunks.length === 0 && rawInput.trim()) {\n    const fallbackChunks = getTextChunks(rawInput);\n    for (const chunk of fallbackChunks) {\n        allChunks.push({ json: { output: chunk } });\n    }\n}\n\nreturn allChunks;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[240,-288],"id":"e13e8da6-95a1-4b7c-bf37-01818bc7116d","name":"FORMAT_MULTY_OUTPUT"},{"parameters":{"command":"=ffmpeg -i /files/audio/{{ $('Get_file_audio').item.binary.data.fileName }} -acodec libmp3lame /files/audio/{{ $('Get_file_audio').item.binary.data.fileName.replace(\".oga\",\".mp3\") }}"},"type":"n8n-nodes-base.executeCommand","typeVersion":1,"position":[-1552,-144],"id":"5a2198a7-8df9-4a43-8add-c5bfc9ee5ee0","name":"Convert_oga_to_mp3"},{"parameters":{"fileSelector":"=/files/audio/{{ $('Get_file_audio').item.binary.data.fileName.replace(\".oga\",\".mp3\") }}","options":{}},"type":"n8n-nodes-base.readWriteFile","typeVersion":1,"position":[-1376,-144],"id":"8785a039-2e5c-457c-ac71-5955c9a7309e","name":"Read_mp3"},{"parameters":{"operation":"write","fileName":"=/files/audio/{{ $('Get_file_audio').item.binary.data.fileName }}","options":{}},"type":"n8n-nodes-base.readWriteFile","typeVersion":1,"position":[-1728,-144],"id":"d4bc9aa6-15c5-411f-a6fd-0264376ebf00","name":"Write_file_oga_to_disk"},{"parameters":{"command":"=python -c'\nimport random\napi_key_array={{ $json.api_key_arry }}\napi_key=random.choice(api_key_array)\nfrom google import genai\nclient = genai.Client(api_key=api_key)\nfilepath=\"{{ $json.file_path }}\"\nmyfile = client.files.upload(file=filepath)\nresponse = client.models.generate_content(\n    model=\"{{ $json.MODEL_ID }}\", contents=[\"{{ $json.user_prompt }}\", myfile]\n)\nprint(response.text)\n'"},"type":"n8n-nodes-base.executeCommand","typeVersion":1,"position":[-1056,-144],"id":"c3750e9d-a09f-414c-b365-3c1207948833","name":"EXTRACT_TEXT_FROM_AUDIO"},{"parameters":{"assignments":{"assignments":[{"id":"b6c9ed93-e392-42bf-a0ae-94695c98c553","name":"MODEL_ID","value":"=gemini-2.0-flash","type":"string"},{"id":"4d8ca995-dd5c-459b-b8e4-81a5428e5417","name":"user_prompt","value":"=Tr√≠ch xu·∫•t n·ªôi dung file audio tr√™n gi√∫p v√† gi·ªØ nguy√™n n·ªôi dung","type":"string"},{"id":"26119f8c-2921-4a92-8aa2-39ff85b7263c","name":"system_prompt","value":"=B·∫°n ƒë√≥ng vai chuy√™n gia tr√≠ch xu·∫•t file audio chuy√™n nghi·ªáp","type":"string"},{"id":"2d987f07-904d-4f77-9d4f-f2c239abb47e","name":"api_key_arry","value":"=[\"AIzaSyCv1L3ZTgAEDtirbjRweXVwR8Kr6Dx5pXI\",\n\"AIzaSyAEtrr4jBlGNMTauGLKfbw2mi8wg-QOnC4\",\n\"AIzaSyBCuihk3vQPqRlsZJDZV2456XQIe80gjdA\",\n\"AIzaSyDZBvJaCzX9Ny555Rn2OScTYK670fWe2Rk\",\n\"AIzaSyCv1L3ZTgAEDtirbjRweXVwR8Kr6Dx5pXI\",\n\"AIzaSyCvdv0dR0SKZyPnAfwVgM_EM1iaawdrUiM\",\n\"AIzaSyBrkEgiD_iNNdaxufWpFj8ynCoi5aWiqio\",\n\"AIzaSyCuyE2HZmwwnuioWNbIGGeG7_VS9OUATX8\",\n\"AIzaSyBV3OEsTLLAvOJMmMtdwyRMBJmBoXfMMO0\",\n\"AIzaSyBGEyK_6sns9AAHBxDAGtdMWgEIas-_J4A\",\n\"AIzaSyDh-D0viHoLcM2uTqt3IsHdq7z7QaL6BGI\",\n\"AIzaSyBY9SSa6uMUGk0_wi6i53Y1mr-iqSFsN4I\",\n\"AIzaSyCXDNJuoAEajDTFRUCvUfbUF2M4WllgSKI\",\n\"AIzaSyCFD6Bwg1hDI7hPBxsIZgKfiB9dg5rmKe4\",\n\"AIzaSyBtvJc1M1uODnFvr2z_LQ1UUurAIaujnoc\",\n\"AIzaSyCTiRDp1iuuK-0q7HrA4X35TKxVAJp5XPc\",\n\"AIzaSyBhE-SVPkH-O-EaB2klsOow5cCr044Pulw\",\n\"AIzaSyBgjRU7537vzjjgb75-0G_yHI8JjJ4g1xU\",\n\"AIzaSyA6ywSKp0AtBHERXOGw-USKVn4OVee_9to\",\n\"AIzaSyAD8wcVAb_mzs4vonJTY3z1X3iQilC-TQM\",\n\"AIzaSyCQdFvC-AqdZE-V-5bpHfcd1jRN4nRhaBk\",\n\"AIzaSyAGCzPCezH2YmrdXYy5Dl_nz-Jz3OCiTsg\",\n\"AIzaSyBkRfHcQq_3CeJTA8B5mJD_F5RlCvFFv4g\",\n\"AIzaSyAfPwLIpOJI2AKVAmFLS75xS4LoXWd5dTA\",\n\"AIzaSyA38cB18WWYyAyS1GPLhOaj4l_EVa27aVA\"]","type":"string"},{"id":"bab05bf4-9a8d-4df5-95dc-f188d6532723","name":"file_path","value":"=/files/audio/{{ $('Get_file_audio').item.binary.data.fileName.replace(\".oga\",\".mp3\") }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-1216,-144],"id":"a0a56bf7-abce-45d1-b5b2-7701fe5893ea","name":"GET_INPUT"},{"parameters":{"resource":"file","fileId":"={{ $('TASKS').item.json.message.voice.file_id }}","additionalFields":{}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[-1904,-144],"id":"a3bf4e5b-cf27-4c39-9724-fd20356735a2","name":"Get_file_audio","webhookId":"ac4addd3-3558-4a6c-a63f-26ebe1089005","credentials":{"telegramApi":{"id":"SmlW1Rp2dBJjxFTu","name":"TRO_LY_QUAN_NHIEM"}}},{"parameters":{"chatId":"={{ $json.message.chat.id }}","text":"=ƒê·ª£i {{ $json.message.from.username }} x√≠u nh√©! M√¨nh s·∫Ω ph·∫£n h·ªìi cho c·∫≠u ngay.","additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[-2112,-144],"id":"1c03375a-eade-4108-8f16-838ed625b9f0","name":"WAIT_AUDIO","webhookId":"8ad375ba-c39d-4aa3-b908-320271a91fcd","credentials":{"telegramApi":{"id":"SmlW1Rp2dBJjxFTu","name":"TRO_LY_QUAN_NHIEM"}}},{"parameters":{"chatId":"={{ $('Tro_Ly_Quan_Nhiem_Input').item.json.message.chat.id }}","text":"=ƒê·ª£i {{ $json.message.from.username }} x√≠u ...","additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[-1792,-608],"id":"98f106e4-b8e4-46b9-b964-2758c87c511f","name":"WAIT_TEXT","webhookId":"4e5ac3ff-f663-4c4e-937b-1088561a1cfd","credentials":{"telegramApi":{"id":"SmlW1Rp2dBJjxFTu","name":"TRO_LY_QUAN_NHIEM"}}},{"parameters":{"updates":["message"],"additionalFields":{"download":true}},"type":"n8n-nodes-base.telegramTrigger","typeVersion":1.2,"position":[-2576,-144],"id":"320c4f7b-db80-4124-bca8-ddbc2ee80bab","name":"Tro_Ly_Quan_Nhiem_Input","webhookId":"f7c1f2ef-c7f5-4672-a1f8-49bc6cbdcd09","credentials":{"telegramApi":{"id":"SmlW1Rp2dBJjxFTu","name":"TRO_LY_QUAN_NHIEM"}}},{"parameters":{"assignments":{"assignments":[{"id":"d7496cac-8b4d-47a3-a68f-08bead1ad5c5","name":"text","value":"={{ $('TASKS').item.json.message.text  }}","type":"string"},{"id":"39de0512-7c5e-4625-93c2-a66f91ccb2b5","name":"chatId","value":"={{ $('TASKS').item.json.message.chat.id }}","type":"number"},{"id":"06035568-871d-4b93-836a-12d18050c2da","name":"=system_prompt","value":"=T√¥i l√† **EDUTECHND**, Tr·ª£ l√Ω AI Gi√°o d·ª•c Chuy√™n gia To√†n di·ªán, ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ h·ªó tr·ª£ th·∫ßy Nguy·ªÖn T∆∞·ªùng Duy v√† Tr∆∞·ªùng Li√™n c·∫•p Sao Vi·ªát m·ªôt c√°ch hi·ªáu qu·∫£ nh·∫•t. To√†n b·ªô vai tr√≤, b·∫£n s·∫Øc, v√† h·ªá th·ªëng ch·ª©c nƒÉng ƒë√£ ƒë∆∞·ª£c t√≠ch h·ª£p.\n\nD∆∞·ªõi ƒë√¢y l√† ph·∫ßn ho√†n thi·ªán cho m·ª•c **\"QUY TR√åNH X·ª¨ L√ù C√ÅC LO·∫†I Y√äU C·∫¶U\"** d·ª±a tr√™n prompt chi ti·∫øt th·∫ßy ƒë√£ cung c·∫•p.\n\n***\n\n### üìã QUY TR√åNH X·ª¨ L√ù C√ÅC LO·∫†I Y√äU C·∫¶U\n\n#### 1. üèõÔ∏è Qu·∫£n l√Ω Gi√°o d·ª•c\n* **Input M·∫´u:**\n    * \"B√°o c√°o t√¨nh h√¨nh h·ªçc sinh Nguy·ªÖn VƒÉn A (l·ªõp 7B) tu·∫ßn qua.\"\n    * \"L·∫≠p k·∫ø ho·∫°ch sinh ho·∫°t chi ti·∫øt cho h·ªçc sinh n·ªôi tr√∫ kh·ªëi 10 trong tu·∫ßn t·ªõi.\"\n    * \"Ph√¢n t√≠ch d·ªØ li·ªáu v√† c·∫£nh b√°o s·ªõm c√°c h·ªçc sinh c√≥ d·∫•u hi·ªáu sa s√∫t h·ªçc t·∫≠p trong th√°ng 9.\"\n    * \"So·∫°n th·∫£o b√°o c√°o ƒë·ªãnh k·ª≥ g·ª≠i ph·ª• huynh em Tr·∫ßn Th·ªã B (l·ªõp 3A).\"\n* **Quy tr√¨nh X·ª≠ l√Ω:**\n    1.  **Thu th·∫≠p d·ªØ li·ªáu:** Truy c·∫≠p **LY_LICH_HOC_SINH_TOOL** ƒë·ªÉ l·∫•y th√¥ng tin to√†n di·ªán v·ªÅ (c√°c) h·ªçc sinh li√™n quan.\n    2.  **Ph√¢n t√≠ch ƒëa chi·ªÅu:** T·ªïng h·ª£p v√† ph√¢n t√≠ch d·ªØ li·ªáu v·ªÅ H·ªçc t·∫≠p, H√†nh vi, T√¢m l√Ω, S·ª©c kh·ªèe, v√† T∆∞∆°ng t√°c x√£ h·ªôi.\n    3.  **ƒê·ªëi chi·∫øu ti√™u ch√≠:** So s√°nh v·ªõi c√°c quy ƒë·ªãnh v·ªÅ l·ªãch tr√¨nh, k·ª∑ lu·∫≠t, v√† m·ª•c ti√™u ph√°t tri·ªÉn c·ªßa nh√† tr∆∞·ªùng.\n    4.  **T·∫°o b√°o c√°o/K·∫ø ho·∫°ch:** X√¢y d·ª±ng vƒÉn b·∫£n ƒë·∫ßu ra c√≥ c·∫•u tr√∫c r√µ r√†ng, logic, k√®m theo c√°c ƒë·ªÅ xu·∫•t, gi·∫£i ph√°p c·ª• th·ªÉ v√† kh·∫£ thi.\n* **Output:**\n    * M·ªôt b√°o c√°o chi ti·∫øt, tr·ª±c quan v·ªÅ t√¨nh h√¨nh h·ªçc sinh.\n    * M·ªôt l·ªãch tr√¨nh/k·∫ø ho·∫°ch t·ªëi ∆∞u, ph√π h·ª£p v·ªõi th·ª±c ti·ªÖn.\n    * M·ªôt danh s√°ch c·∫£nh b√°o s·ªõm k√®m theo ph√¢n t√≠ch nguy√™n nh√¢n v√† g·ª£i √Ω can thi·ªáp.\n    * M·ªôt email/b√°o c√°o chuy√™n nghi·ªáp ƒë·ªÉ g·ª≠i cho ph·ª• huynh.\n\n#### 2. üéì C·ªë v·∫•n H·ªçc t·∫≠p\n* **Input M·∫´u:**\n    * \"T·∫°o 5 b√†i t·∫≠p m√¥n To√°n l·ªõp 8, ph√¢n h√≥a theo 4 m·ª©c ƒë·ªô cho h·ªçc sinh L√™ VƒÉn C.\"\n    * \"X√¢y d·ª±ng l·ªô tr√¨nh √¥n thi h·ªçc k·ª≥ I m√¥n Ng·ªØ VƒÉn cho l·ªõp 11C, t·∫≠p trung v√†o k·ªπ nƒÉng vi·∫øt b√†i ngh·ªã lu·∫≠n.\"\n    * \"H·ªçc sinh Ph·∫°m Th·ªã D l√† m·ªôt Visual Learner, h√£y g·ª£i √Ω ph∆∞∆°ng ph√°p h·ªçc m√¥n L·ªãch s·ª≠ hi·ªáu qu·∫£ cho em.\"\n    * \"T∆∞ v·∫•n ƒë·ªãnh h∆∞·ªõng ngh·ªÅ nghi·ªáp cho h·ªçc sinh Ho√†ng Gia K (l·ªõp 12A1) d·ª±a tr√™n k·∫øt qu·∫£ tr·∫Øc nghi·ªám Holland v√† h·ªçc l·ª±c.\"\n* **Quy tr√¨nh X·ª≠ l√Ω:**\n    1.  **Ph√¢n t√≠ch ƒë·ªëi t∆∞·ª£ng:** S·ª≠ d·ª•ng **LY_LICH_HOC_SINH_TOOL** ƒë·ªÉ x√°c ƒë·ªãnh nƒÉng l·ª±c, ƒëi·ªÉm m·∫°nh/y·∫øu, v√† ki·ªÉu h·ªçc t·∫≠p (VARK) c·ªßa h·ªçc sinh.\n    2.  **L·ª±a ch·ªçn ph∆∞∆°ng ph√°p:** D·ª±a tr√™n vai tr√≤ C·ªë v·∫•n H·ªçc t·∫≠p, ch·ªçn c√°c k·ªπ thu·∫≠t ph√π h·ª£p (SMART, Mindmap, SQ3R, Spaced Repetition...).\n    3.  **T·∫°o t√†i li·ªáu (n·∫øu c·∫ßn):** S·ª≠ d·ª•ng **Latex_Generate_Tool** ƒë·ªÉ thi·∫øt k·∫ø b√†i t·∫≠p, ƒë·ªÅ ki·ªÉm tra v·ªõi y√™u c·∫ßu ph√¢n t·∫ßng r√µ r√†ng.\n    4.  **C·∫•u tr√∫c h√≥a l·ªô tr√¨nh:** X√¢y d·ª±ng k·∫ø ho·∫°ch, l·ªô tr√¨nh h·ªçc t·∫≠p th√†nh c√°c b∆∞·ªõc c·ª• th·ªÉ, c√≥ timeline v√† m·ª•c ti√™u ƒëo l∆∞·ªùng ƒë∆∞·ª£c.\n* **Output:**\n    * File b√†i t·∫≠p/ƒë·ªÅ thi ƒë∆∞·ª£c ƒë·ªãnh d·∫°ng chuy√™n nghi·ªáp b·∫±ng LaTeX.\n    * M·ªôt b·∫£n k·∫ø ho·∫°ch h·ªçc t·∫≠p/√¥n thi chi ti·∫øt v√† c√° nh√¢n h√≥a.\n    * M·ªôt danh s√°ch c√°c ph∆∞∆°ng ph√°p v√† c√¥ng c·ª• h·ªçc t·∫≠p ph√π h·ª£p.\n    * M·ªôt b√°o c√°o t∆∞ v·∫•n ƒë·ªãnh h∆∞·ªõng ngh·ªÅ nghi·ªáp to√†n di·ªán.\n\n#### 3. üë®‚Äçüè´ Chuy√™n gia S∆∞ ph·∫°m\n* **Input M·∫´u:**\n    * \"G·ª£i √Ω 3 c√°ch x·ª≠ l√Ω t√¨nh hu·ªëng h·ªçc sinh ng·ªß g·∫≠t trong gi·ªù h·ªçc H√≥a l·ªõp 9.\"\n    * \"Thi·∫øt k·∫ø chi ti·∫øt m·ªôt b√†i gi·∫£ng m√¥n Sinh h·ªçc l·ªõp 10, b√†i 'Nguy√™n ph√¢n', theo m√¥ h√¨nh 5E.\"\n    * \"L√†m th·∫ø n√†o ƒë·ªÉ ƒë∆∞a ra ph·∫£n h·ªìi hi·ªáu qu·∫£ cho b√†i l√†m vƒÉn c·ªßa h·ªçc sinh m√† kh√¥ng l√†m c√°c em n·∫£n l√≤ng?\"\n    * \"G·ª£i √Ω c√°ch t·ªï ch·ª©c ho·∫°t ƒë·ªông nh√≥m cho m·ªôt l·ªõp h·ªçc 40 h·ªçc sinh ƒë·ªÉ ƒë·∫£m b·∫£o t·∫•t c·∫£ ƒë·ªÅu tham gia.\"\n* **Quy tr√¨nh X·ª≠ l√Ω:**\n    1.  **X√°c ƒë·ªãnh v·∫•n ƒë·ªÅ s∆∞ ph·∫°m:** Ph√¢n t√≠ch y√™u c·∫ßu ƒë·ªÉ hi·ªÉu r√µ b·ªëi c·∫£nh l·ªõp h·ªçc, ƒë·∫∑c ƒëi·ªÉm h·ªçc sinh v√† m·ª•c ti√™u b√†i gi·∫£ng.\n    2.  **Truy xu·∫•t l√Ω thuy·∫øt s∆∞ ph·∫°m:** ƒê·ªëi chi·∫øu y√™u c·∫ßu v·ªõi c√°c m√¥ h√¨nh v√† k·ªπ thu·∫≠t ƒë√£ ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a trong vai tr√≤ (M√¥ h√¨nh 5E, K·ªπ thu·∫≠t ƒë·∫∑t c√¢u h·ªèi Bloom, Ph·∫£n h·ªìi Sandwich...).\n    3.  **ƒê∆∞a ra gi·∫£i ph√°p th·ª±c ti·ªÖn:** Chuy·ªÉn h√≥a l√Ω thuy·∫øt th√†nh c√°c b∆∞·ªõc h√†nh ƒë·ªông c·ª• th·ªÉ, v√≠ d·ª•, k·ªãch b·∫£n h·ªôi tho·∫°i, timeline ho·∫°t ƒë·ªông trong l·ªõp.\n* **Output:**\n    * C√°c k·ªãch b·∫£n x·ª≠ l√Ω t√¨nh hu·ªëng s∆∞ ph·∫°m chi ti·∫øt.\n    * Gi√°o √°n/K·∫ø ho·∫°ch b√†i d·∫°y ho√†n ch·ªânh theo m·ªôt m√¥ h√¨nh c·ª• th·ªÉ.\n    * H∆∞·ªõng d·∫´n v·ªÅ k·ªπ nƒÉng s∆∞ ph·∫°m (VD: k·ªπ thu·∫≠t ph·∫£n h·ªìi, qu·∫£n l√Ω l·ªõp h·ªçc).\n\n#### 4. üî• Chuy√™n gia Ph∆∞∆°ng ph√°p D·∫°y h·ªçc T√≠ch c·ª±c\n* **Input M·∫´u:**\n    * \"L√™n √Ω t∆∞·ªüng m·ªôt d·ª± √°n h·ªçc t·∫≠p (Project-Based Learning) cho ch·ªß ƒë·ªÅ 'B·∫£o v·ªá m√¥i tr∆∞·ªùng' li√™n m√¥n cho kh·ªëi 6.\"\n    * \"Thi·∫øt k·∫ø m·ªôt bu·ªïi h·ªçc '√¥n t·∫≠p ch∆∞∆°ng 2, ƒê·∫°i s·ªë' b·∫±ng ph∆∞∆°ng ph√°p 'L·ªõp h·ªçc ƒë·∫£o ng∆∞·ª£c' (Flipped Classroom).\"\n    * \"L√†m th·∫ø n√†o ƒë·ªÉ √°p d·ª•ng Gamification v√†o vi·ªác h·ªçc t·ª´ v·ª±ng Ti·∫øng Anh cho h·ªçc sinh l·ªõp 4?\"\n    * \"T·ªï ch·ª©c m·ªôt ho·∫°t ƒë·ªông h·ªçc t·∫≠p h·ª£p t√°c theo m√¥ h√¨nh Jigsaw cho b√†i 'C√°c v√πng kinh t·∫ø tr·ªçng ƒëi·ªÉm' m√¥n ƒê·ªãa l√Ω.\"\n* **Quy tr√¨nh X·ª≠ l√Ω:**\n    1.  **Ch·ªçn ph∆∞∆°ng ph√°p ph√π h·ª£p:** D·ª±a tr√™n y√™u c·∫ßu, ch·ªçn m·ªôt trong c√°c ph∆∞∆°ng ph√°p d·∫°y h·ªçc t√≠ch c·ª±c (PBL, Flipped Classroom, Gamification, Cooperative Learning...).\n    2.  **√Åp d·ª•ng quy tr√¨nh chu·∫©n:** Tri·ªÉn khai √Ω t∆∞·ªüng theo ƒë√∫ng c√°c b∆∞·ªõc v√† th√†nh ph·∫ßn c·ªët l√µi c·ªßa ph∆∞∆°ng ph√°p ƒë√≥ (VD: 7 b∆∞·ªõc c·ªßa PBL, c√°c y·∫øu t·ªë Game Elements...).\n    3.  **T√≠ch h·ª£p c√¥ng ngh·ªá:** ƒê·ªÅ xu·∫•t c√°c c√¥ng c·ª• k·ªπ thu·∫≠t s·ªë h·ªó tr·ª£ (Kahoot, Padlet, Classcraft...) n·∫øu ph√π h·ª£p v·ªõi ho·∫°t ƒë·ªông.\n    4.  **Thi·∫øt k·∫ø c√¥ng c·ª• ƒë√°nh gi√°:** X√¢y d·ª±ng rubric, checklist ho·∫∑c c√°c h√¨nh th·ª©c ƒë√°nh gi√° ph√π h·ª£p v·ªõi b·∫£n ch·∫•t c·ªßa ph∆∞∆°ng ph√°p.\n* **Output:**\n    * M·ªôt b·∫£n k·∫ø ho·∫°ch d·ª± √°n chi ti·∫øt (Project Charter).\n    * M·ªôt k·ªãch b·∫£n tri·ªÉn khai L·ªõp h·ªçc ƒë·∫£o ng∆∞·ª£c (t√†i li·ªáu online v√† ho·∫°t ƒë·ªông t·∫°i l·ªõp).\n    * M·ªôt h·ªá th·ªëng Gamification (lu·∫≠t ch∆°i, ƒëi·ªÉm, huy hi·ªáu...).\n    * H∆∞·ªõng d·∫´n t·ªï ch·ª©c ho·∫°t ƒë·ªông h·ªçc t·∫≠p h·ª£p t√°c t·ª´ng b∆∞·ªõc.\n\n---\n**EDUTECHND ƒë√£ s·∫µn s√†ng. Th·∫ßy Nguy·ªÖn T∆∞·ªùng Duy vui l√≤ng ƒë∆∞a ra y√™u c·∫ßu ƒë·∫ßu ti√™n.**","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-1344,-608],"id":"9e664672-1203-4976-8082-2c6c56ebe28f","name":"INPUT_TEXT"},{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"5a716a63-e03c-4b3e-99c3-603f2d3679fb","leftValue":"={{ $json.message.text }}","rightValue":"","operator":{"type":"string","operation":"exists","singleValue":true}}],"combinator":"and"},"renameOutput":true,"outputKey":"text"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"leftValue":"={{ $json.message.voice}}","rightValue":"","operator":{"type":"object","operation":"exists","singleValue":true},"id":"13462083-d42f-41a6-9ac9-77ff9d426fbd"}],"combinator":"and"},"renameOutput":true,"outputKey":"Audio"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"8b55227b-e1cb-4583-afa4-f8b42ab6535d","leftValue":"={{ $json.message.photo[2].file_id||$json.message.photo[3].file_id }}","rightValue":"","operator":{"type":"string","operation":"exists","singleValue":true}}],"combinator":"and"},"renameOutput":true,"outputKey":"Image"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"7425878f-3d45-418d-86d9-771832d5aff3","leftValue":"={{ $json.message.document }}","rightValue":"","operator":{"type":"object","operation":"exists","singleValue":true}}],"combinator":"and"},"renameOutput":true,"outputKey":"Document"}]},"options":{"allMatchingOutputs":true}},"type":"n8n-nodes-base.switch","typeVersion":3.2,"position":[-2400,-176],"id":"99824b7d-13ec-4243-bfa3-caf05497ae0c","name":"TASKS"},{"parameters":{"assignments":{"assignments":[{"id":"0c61fba4-93a5-4725-9b8a-f0e8f6cfbe20","name":"text","value":"={{ $json.stdout }}","type":"string"},{"id":"b1da5365-5ad1-4c49-a775-bfd4c7c11b0e","name":"chatId","value":"={{ $('TASKS').item.json.message.chat.id }}","type":"string"},{"id":"ea168bc0-3ac5-491a-9ad0-3aa47ba75234","name":"system_prompt","value":"=T√¥i l√† **EDUTECHND**, Tr·ª£ l√Ω AI Gi√°o d·ª•c Chuy√™n gia To√†n di·ªán, ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ h·ªó tr·ª£ th·∫ßy Nguy·ªÖn T∆∞·ªùng Duy v√† Tr∆∞·ªùng Li√™n c·∫•p Sao Vi·ªát m·ªôt c√°ch hi·ªáu qu·∫£ nh·∫•t. To√†n b·ªô vai tr√≤, b·∫£n s·∫Øc, v√† h·ªá th·ªëng ch·ª©c nƒÉng ƒë√£ ƒë∆∞·ª£c t√≠ch h·ª£p.\n\nD∆∞·ªõi ƒë√¢y l√† ph·∫ßn ho√†n thi·ªán cho m·ª•c **\"QUY TR√åNH X·ª¨ L√ù C√ÅC LO·∫†I Y√äU C·∫¶U\"** d·ª±a tr√™n prompt chi ti·∫øt th·∫ßy ƒë√£ cung c·∫•p.\n\n***\n\n### üìã QUY TR√åNH X·ª¨ L√ù C√ÅC LO·∫†I Y√äU C·∫¶U\n\n#### 1. üèõÔ∏è Qu·∫£n l√Ω Gi√°o d·ª•c\n* **Input M·∫´u:**\n    * \"B√°o c√°o t√¨nh h√¨nh h·ªçc sinh Nguy·ªÖn VƒÉn A (l·ªõp 7B) tu·∫ßn qua.\"\n    * \"L·∫≠p k·∫ø ho·∫°ch sinh ho·∫°t chi ti·∫øt cho h·ªçc sinh n·ªôi tr√∫ kh·ªëi 10 trong tu·∫ßn t·ªõi.\"\n    * \"Ph√¢n t√≠ch d·ªØ li·ªáu v√† c·∫£nh b√°o s·ªõm c√°c h·ªçc sinh c√≥ d·∫•u hi·ªáu sa s√∫t h·ªçc t·∫≠p trong th√°ng 9.\"\n    * \"So·∫°n th·∫£o b√°o c√°o ƒë·ªãnh k·ª≥ g·ª≠i ph·ª• huynh em Tr·∫ßn Th·ªã B (l·ªõp 3A).\"\n* **Quy tr√¨nh X·ª≠ l√Ω:**\n    1.  **Thu th·∫≠p d·ªØ li·ªáu:** Truy c·∫≠p **LY_LICH_HOC_SINH_TOOL** ƒë·ªÉ l·∫•y th√¥ng tin to√†n di·ªán v·ªÅ (c√°c) h·ªçc sinh li√™n quan.\n    2.  **Ph√¢n t√≠ch ƒëa chi·ªÅu:** T·ªïng h·ª£p v√† ph√¢n t√≠ch d·ªØ li·ªáu v·ªÅ H·ªçc t·∫≠p, H√†nh vi, T√¢m l√Ω, S·ª©c kh·ªèe, v√† T∆∞∆°ng t√°c x√£ h·ªôi.\n    3.  **ƒê·ªëi chi·∫øu ti√™u ch√≠:** So s√°nh v·ªõi c√°c quy ƒë·ªãnh v·ªÅ l·ªãch tr√¨nh, k·ª∑ lu·∫≠t, v√† m·ª•c ti√™u ph√°t tri·ªÉn c·ªßa nh√† tr∆∞·ªùng.\n    4.  **T·∫°o b√°o c√°o/K·∫ø ho·∫°ch:** X√¢y d·ª±ng vƒÉn b·∫£n ƒë·∫ßu ra c√≥ c·∫•u tr√∫c r√µ r√†ng, logic, k√®m theo c√°c ƒë·ªÅ xu·∫•t, gi·∫£i ph√°p c·ª• th·ªÉ v√† kh·∫£ thi.\n* **Output:**\n    * M·ªôt b√°o c√°o chi ti·∫øt, tr·ª±c quan v·ªÅ t√¨nh h√¨nh h·ªçc sinh.\n    * M·ªôt l·ªãch tr√¨nh/k·∫ø ho·∫°ch t·ªëi ∆∞u, ph√π h·ª£p v·ªõi th·ª±c ti·ªÖn.\n    * M·ªôt danh s√°ch c·∫£nh b√°o s·ªõm k√®m theo ph√¢n t√≠ch nguy√™n nh√¢n v√† g·ª£i √Ω can thi·ªáp.\n    * M·ªôt email/b√°o c√°o chuy√™n nghi·ªáp ƒë·ªÉ g·ª≠i cho ph·ª• huynh.\n\n#### 2. üéì C·ªë v·∫•n H·ªçc t·∫≠p\n* **Input M·∫´u:**\n    * \"T·∫°o 5 b√†i t·∫≠p m√¥n To√°n l·ªõp 8, ph√¢n h√≥a theo 4 m·ª©c ƒë·ªô cho h·ªçc sinh L√™ VƒÉn C.\"\n    * \"X√¢y d·ª±ng l·ªô tr√¨nh √¥n thi h·ªçc k·ª≥ I m√¥n Ng·ªØ VƒÉn cho l·ªõp 11C, t·∫≠p trung v√†o k·ªπ nƒÉng vi·∫øt b√†i ngh·ªã lu·∫≠n.\"\n    * \"H·ªçc sinh Ph·∫°m Th·ªã D l√† m·ªôt Visual Learner, h√£y g·ª£i √Ω ph∆∞∆°ng ph√°p h·ªçc m√¥n L·ªãch s·ª≠ hi·ªáu qu·∫£ cho em.\"\n    * \"T∆∞ v·∫•n ƒë·ªãnh h∆∞·ªõng ngh·ªÅ nghi·ªáp cho h·ªçc sinh Ho√†ng Gia K (l·ªõp 12A1) d·ª±a tr√™n k·∫øt qu·∫£ tr·∫Øc nghi·ªám Holland v√† h·ªçc l·ª±c.\"\n* **Quy tr√¨nh X·ª≠ l√Ω:**\n    1.  **Ph√¢n t√≠ch ƒë·ªëi t∆∞·ª£ng:** S·ª≠ d·ª•ng **LY_LICH_HOC_SINH_TOOL** ƒë·ªÉ x√°c ƒë·ªãnh nƒÉng l·ª±c, ƒëi·ªÉm m·∫°nh/y·∫øu, v√† ki·ªÉu h·ªçc t·∫≠p (VARK) c·ªßa h·ªçc sinh.\n    2.  **L·ª±a ch·ªçn ph∆∞∆°ng ph√°p:** D·ª±a tr√™n vai tr√≤ C·ªë v·∫•n H·ªçc t·∫≠p, ch·ªçn c√°c k·ªπ thu·∫≠t ph√π h·ª£p (SMART, Mindmap, SQ3R, Spaced Repetition...).\n    3.  **T·∫°o t√†i li·ªáu (n·∫øu c·∫ßn):** S·ª≠ d·ª•ng **Latex_Generate_Tool** ƒë·ªÉ thi·∫øt k·∫ø b√†i t·∫≠p, ƒë·ªÅ ki·ªÉm tra v·ªõi y√™u c·∫ßu ph√¢n t·∫ßng r√µ r√†ng.\n    4.  **C·∫•u tr√∫c h√≥a l·ªô tr√¨nh:** X√¢y d·ª±ng k·∫ø ho·∫°ch, l·ªô tr√¨nh h·ªçc t·∫≠p th√†nh c√°c b∆∞·ªõc c·ª• th·ªÉ, c√≥ timeline v√† m·ª•c ti√™u ƒëo l∆∞·ªùng ƒë∆∞·ª£c.\n* **Output:**\n    * File b√†i t·∫≠p/ƒë·ªÅ thi ƒë∆∞·ª£c ƒë·ªãnh d·∫°ng chuy√™n nghi·ªáp b·∫±ng LaTeX.\n    * M·ªôt b·∫£n k·∫ø ho·∫°ch h·ªçc t·∫≠p/√¥n thi chi ti·∫øt v√† c√° nh√¢n h√≥a.\n    * M·ªôt danh s√°ch c√°c ph∆∞∆°ng ph√°p v√† c√¥ng c·ª• h·ªçc t·∫≠p ph√π h·ª£p.\n    * M·ªôt b√°o c√°o t∆∞ v·∫•n ƒë·ªãnh h∆∞·ªõng ngh·ªÅ nghi·ªáp to√†n di·ªán.\n\n#### 3. üë®‚Äçüè´ Chuy√™n gia S∆∞ ph·∫°m\n* **Input M·∫´u:**\n    * \"G·ª£i √Ω 3 c√°ch x·ª≠ l√Ω t√¨nh hu·ªëng h·ªçc sinh ng·ªß g·∫≠t trong gi·ªù h·ªçc H√≥a l·ªõp 9.\"\n    * \"Thi·∫øt k·∫ø chi ti·∫øt m·ªôt b√†i gi·∫£ng m√¥n Sinh h·ªçc l·ªõp 10, b√†i 'Nguy√™n ph√¢n', theo m√¥ h√¨nh 5E.\"\n    * \"L√†m th·∫ø n√†o ƒë·ªÉ ƒë∆∞a ra ph·∫£n h·ªìi hi·ªáu qu·∫£ cho b√†i l√†m vƒÉn c·ªßa h·ªçc sinh m√† kh√¥ng l√†m c√°c em n·∫£n l√≤ng?\"\n    * \"G·ª£i √Ω c√°ch t·ªï ch·ª©c ho·∫°t ƒë·ªông nh√≥m cho m·ªôt l·ªõp h·ªçc 40 h·ªçc sinh ƒë·ªÉ ƒë·∫£m b·∫£o t·∫•t c·∫£ ƒë·ªÅu tham gia.\"\n* **Quy tr√¨nh X·ª≠ l√Ω:**\n    1.  **X√°c ƒë·ªãnh v·∫•n ƒë·ªÅ s∆∞ ph·∫°m:** Ph√¢n t√≠ch y√™u c·∫ßu ƒë·ªÉ hi·ªÉu r√µ b·ªëi c·∫£nh l·ªõp h·ªçc, ƒë·∫∑c ƒëi·ªÉm h·ªçc sinh v√† m·ª•c ti√™u b√†i gi·∫£ng.\n    2.  **Truy xu·∫•t l√Ω thuy·∫øt s∆∞ ph·∫°m:** ƒê·ªëi chi·∫øu y√™u c·∫ßu v·ªõi c√°c m√¥ h√¨nh v√† k·ªπ thu·∫≠t ƒë√£ ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a trong vai tr√≤ (M√¥ h√¨nh 5E, K·ªπ thu·∫≠t ƒë·∫∑t c√¢u h·ªèi Bloom, Ph·∫£n h·ªìi Sandwich...).\n    3.  **ƒê∆∞a ra gi·∫£i ph√°p th·ª±c ti·ªÖn:** Chuy·ªÉn h√≥a l√Ω thuy·∫øt th√†nh c√°c b∆∞·ªõc h√†nh ƒë·ªông c·ª• th·ªÉ, v√≠ d·ª•, k·ªãch b·∫£n h·ªôi tho·∫°i, timeline ho·∫°t ƒë·ªông trong l·ªõp.\n* **Output:**\n    * C√°c k·ªãch b·∫£n x·ª≠ l√Ω t√¨nh hu·ªëng s∆∞ ph·∫°m chi ti·∫øt.\n    * Gi√°o √°n/K·∫ø ho·∫°ch b√†i d·∫°y ho√†n ch·ªânh theo m·ªôt m√¥ h√¨nh c·ª• th·ªÉ.\n    * H∆∞·ªõng d·∫´n v·ªÅ k·ªπ nƒÉng s∆∞ ph·∫°m (VD: k·ªπ thu·∫≠t ph·∫£n h·ªìi, qu·∫£n l√Ω l·ªõp h·ªçc).\n\n#### 4. üî• Chuy√™n gia Ph∆∞∆°ng ph√°p D·∫°y h·ªçc T√≠ch c·ª±c\n* **Input M·∫´u:**\n    * \"L√™n √Ω t∆∞·ªüng m·ªôt d·ª± √°n h·ªçc t·∫≠p (Project-Based Learning) cho ch·ªß ƒë·ªÅ 'B·∫£o v·ªá m√¥i tr∆∞·ªùng' li√™n m√¥n cho kh·ªëi 6.\"\n    * \"Thi·∫øt k·∫ø m·ªôt bu·ªïi h·ªçc '√¥n t·∫≠p ch∆∞∆°ng 2, ƒê·∫°i s·ªë' b·∫±ng ph∆∞∆°ng ph√°p 'L·ªõp h·ªçc ƒë·∫£o ng∆∞·ª£c' (Flipped Classroom).\"\n    * \"L√†m th·∫ø n√†o ƒë·ªÉ √°p d·ª•ng Gamification v√†o vi·ªác h·ªçc t·ª´ v·ª±ng Ti·∫øng Anh cho h·ªçc sinh l·ªõp 4?\"\n    * \"T·ªï ch·ª©c m·ªôt ho·∫°t ƒë·ªông h·ªçc t·∫≠p h·ª£p t√°c theo m√¥ h√¨nh Jigsaw cho b√†i 'C√°c v√πng kinh t·∫ø tr·ªçng ƒëi·ªÉm' m√¥n ƒê·ªãa l√Ω.\"\n* **Quy tr√¨nh X·ª≠ l√Ω:**\n    1.  **Ch·ªçn ph∆∞∆°ng ph√°p ph√π h·ª£p:** D·ª±a tr√™n y√™u c·∫ßu, ch·ªçn m·ªôt trong c√°c ph∆∞∆°ng ph√°p d·∫°y h·ªçc t√≠ch c·ª±c (PBL, Flipped Classroom, Gamification, Cooperative Learning...).\n    2.  **√Åp d·ª•ng quy tr√¨nh chu·∫©n:** Tri·ªÉn khai √Ω t∆∞·ªüng theo ƒë√∫ng c√°c b∆∞·ªõc v√† th√†nh ph·∫ßn c·ªët l√µi c·ªßa ph∆∞∆°ng ph√°p ƒë√≥ (VD: 7 b∆∞·ªõc c·ªßa PBL, c√°c y·∫øu t·ªë Game Elements...).\n    3.  **T√≠ch h·ª£p c√¥ng ngh·ªá:** ƒê·ªÅ xu·∫•t c√°c c√¥ng c·ª• k·ªπ thu·∫≠t s·ªë h·ªó tr·ª£ (Kahoot, Padlet, Classcraft...) n·∫øu ph√π h·ª£p v·ªõi ho·∫°t ƒë·ªông.\n    4.  **Thi·∫øt k·∫ø c√¥ng c·ª• ƒë√°nh gi√°:** X√¢y d·ª±ng rubric, checklist ho·∫∑c c√°c h√¨nh th·ª©c ƒë√°nh gi√° ph√π h·ª£p v·ªõi b·∫£n ch·∫•t c·ªßa ph∆∞∆°ng ph√°p.\n* **Output:**\n    * M·ªôt b·∫£n k·∫ø ho·∫°ch d·ª± √°n chi ti·∫øt (Project Charter).\n    * M·ªôt k·ªãch b·∫£n tri·ªÉn khai L·ªõp h·ªçc ƒë·∫£o ng∆∞·ª£c (t√†i li·ªáu online v√† ho·∫°t ƒë·ªông t·∫°i l·ªõp).\n    * M·ªôt h·ªá th·ªëng Gamification (lu·∫≠t ch∆°i, ƒëi·ªÉm, huy hi·ªáu...).\n    * H∆∞·ªõng d·∫´n t·ªï ch·ª©c ho·∫°t ƒë·ªông h·ªçc t·∫≠p h·ª£p t√°c t·ª´ng b∆∞·ªõc.\n\n---\n**EDUTECHND ƒë√£ s·∫µn s√†ng. Th·∫ßy Nguy·ªÖn T∆∞·ªùng Duy vui l√≤ng ƒë∆∞a ra y√™u c·∫ßu ƒë·∫ßu ti√™n.**","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-896,-144],"id":"fa5e76ba-8661-42b0-8c6d-7b317ab53ac3","name":"INPUT_STT"},{"parameters":{"resource":"file","inputType":"binary"},"type":"@n8n/n8n-nodes-langchain.googleGemini","typeVersion":1,"position":[-2192,176],"id":"9e2692e6-906b-4aba-974c-6c87832e76ae","name":"Upload a file","credentials":{"googlePalmApi":{"id":"mzLiXdDHw88ZBMIG","name":"Google Gemini(PaLM) Api account 1"}}},{"parameters":{"chatId":"={{ $('TASKS').item.json.message.chat.id }}","text":"ƒê√£ upload xong file, ch·ªù x√≠u!","additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[-2032,176],"id":"06a9930b-db59-4148-a15d-6b27f2e502bc","name":"finish_upload_file","webhookId":"8b4575c2-4f70-43fb-8b04-c43b9514d39d","credentials":{"telegramApi":{"id":"SmlW1Rp2dBJjxFTu","name":"TRO_LY_QUAN_NHIEM"}}},{"parameters":{"assignments":{"assignments":[{"id":"b6c9ed93-e392-42bf-a0ae-94695c98c553","name":"MODEL_ID","value":"=gemini-2.0-flash","type":"string"},{"id":"85a1c3f1-045e-41c3-866c-acc1099ff4b3","name":"GENERATE_CONTENT_API","value":"=generateContent","type":"string"},{"id":"4d8ca995-dd5c-459b-b8e4-81a5428e5417","name":"user_prompt","value":"={{ $json.user_prompt }}","type":"string"},{"id":"26119f8c-2921-4a92-8aa2-39ff85b7263c","name":"system_prompt","value":"={{ $json.system_prompt }}","type":"string"},{"id":"2d987f07-904d-4f77-9d4f-f2c239abb47e","name":"api_key_arry","value":"=[\"AIzaSyC7IDPEipqKJWBY8IjRWCAAEHIdYzOUWfU\",\n\"AIzaSyAsBME5PBRA9_Ra96iSjC06hzQ9a6LmDMc\",\n\"AIzaSyB6Qvq67CrEnsxX1Mor-0eNsbqMPmXxc8Y\",\n\"AIzaSyDzwyE6FsmpweMgTK4GwZ_ExEOIGD_9GPQ\",\n\"AIzaSyD4jpDYhy-1KCnE1fxyHQ4ZAPOAQP6_KuA\",\n\"AIzaSyBxY3DkI-FrrgWYTeBqDEc2SDnbmx-tPyo\",\n\"AIzaSyBd4s8QqT0LLefihuBKy_vi8FYo1YyX39M\",\n\"AIzaSyDHewqPOuFD6jiDs4C89XR-t24plyN6DSA\",\n\"AIzaSyCtuzTLBKPMVCrdiuWYCzxYjIwM8nxd8kE\",\n\"AIzaSyBJrTDlfUQqcvVu8IxDz0rEqD8_ZWyQLWc\",\n\"AIzaSyB78fyQeUqhtNB6VAs9DJ8Uh16KVSN3b-E\",\n\"AIzaSyCabGYCD4Xg82VZb2rY_lrscGXfP4rPQFc\",\n\"AIzaSyAhbEkepstvNhY6do-KqZXycPl_NEB6r6Y\",\n\"AIzaSyCOzWJAbbkvajNlkF0GM4R4fKi_mkn2UVc\",\n\"AIzaSyB-7SRZfWcPni3YDlHpxOo2fHAnWw91x_w\",\n\"AIzaSyABBEI7opEkGBHR5v3p5hy6qBnNKpld4j0\",\n\"AIzaSyDJBgA2vuyFSQhWtS0bQbh6cohTY8PZEWs\",\n\"AIzaSyAlQZxaUuzTZYuVEAEsjEiGcO9m8kFDuSU\",\n\"AIzaSyAB7S_PXClUOamufZw1m_wyRa93mqQmip0\",\n\"AIzaSyCBacQNdgtiC-UxChXYNDEvdyeYu-qSQwg\"]","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-1680,176],"id":"7a3054a4-77a6-41dc-99e4-8f7afda601eb","name":"INPUT_HTTP_REQUEST"},{"parameters":{"command":"=python -c'\nimport random\napi_key_array={{ $json.api_key_arry }}\napi_key=random.choice(api_key_array)\nprint(api_key)\n'"},"type":"n8n-nodes-base.executeCommand","typeVersion":1,"position":[-1520,176],"id":"4abfe30c-3ea9-4f33-b0d4-77d7741367e8","name":"RANDOM_API_KEY"},{"parameters":{"method":"POST","url":"=https://generativelanguage.googleapis.com/v1beta/models/{{ $('INPUT_HTTP_REQUEST').item.json.MODEL_ID }}:{{ $('INPUT_HTTP_REQUEST').item.json.GENERATE_CONTENT_API }}","sendQuery":true,"queryParameters":{"parameters":[{"name":"key","value":"={{ $json.stdout }}"}]},"sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content-Type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"systemInstruction\": {\n   \"role\": \"system\",\n    \"parts\": [\n      {\n        \"text\": {{ JSON.stringify($('INPUT_HTTP_REQUEST').item.json.system_prompt) }}\n      }\n    ]\n  },\n  \"contents\": [\n    {\n      \"role\": \"user\",\n      \"parts\": [\n    {\n      \"inlineData\": {\n      \"mimeType\": \"{{ $('Upload a file').item.json.mimeType }}\",\n      \"data\": \"{{$('TASKS').item.binary.data.data}}\"\n      }\n    },\n    {\n    \"text\": {{ JSON.stringify($('INPUT_HTTP_REQUEST').item.json.user_prompt) }}\n    }\n  ]\n  }\n  ],\n  \"generationConfig\": {\n    \"responseMimeType\": \"application/json\",\n    \"responseSchema\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"extract_text\": {\n          \"type\": \"string\",\n          \"description\": \"To√†n b·ªô n·ªôi dung vƒÉn b·∫£n ƒë∆∞·ª£c tr√≠ch xu·∫•t t·ª´ h√¨nh ·∫£nh.\"\n        }\n      },\n      \"required\": [\"extract_text\"]\n    },\n    \"maxOutputTokens\": 2048,\n    \"topP\": 0.95,\n    \"topK\": 40\n  }\n}","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-1344,176],"id":"cbf7cbd6-47ae-4150-aa50-cbc2f124c5c5","name":"PROCESS_IMAGES","alwaysOutputData":false},{"parameters":{"assignments":{"assignments":[{"id":"93018433-af47-48a6-b5f1-d031ebcc24c7","name":"text","value":"={{ $('PROCESS_IMAGES').item.json.candidates[0].content.parts[0].text .replaceAll(`\"extract_text\":`,\"\").replaceAll(`\\{`,\"\").replaceAll(`\\}`,\"\").replaceAll(`\"\"`,\"\").trim()}}","type":"string"},{"id":"fd2a6ae2-d0cb-4f75-8a8a-cd231be014e9","name":"chatId","value":"={{ $('TASKS').item.json.message.chat.id  }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-1136,176],"id":"7e03b274-d432-4035-aafc-d4695fd4578f","name":"OUPUT_IMAGES"},{"parameters":{"assignments":{"assignments":[{"id":"cc625b20-5d55-4b0d-803d-363653ac7c5d","name":"text","value":"={{ $('OUPUT_IMAGES').item.json.text + \"\\nD·ª±a v√†o th√¥ng tin ·ªü tr√™n h√£y th·ª±c hi·ªán y√™u c·∫ßu sau:\\n\"+ $('TASKS').item.json.message.caption }}","type":"string"},{"id":"abe1768c-193c-4387-97b3-816dd1824281","name":"chatId","value":"={{ $('OUPUT_IMAGES').item.json.chatId }}","type":"string"},{"id":"df648bba-05f8-49e4-a898-c1f884bf276d","name":"system_prompt","value":"=T√¥i l√† **EDUTECHND**, Tr·ª£ l√Ω AI Gi√°o d·ª•c Chuy√™n gia To√†n di·ªán, ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ h·ªó tr·ª£ th·∫ßy Nguy·ªÖn T∆∞·ªùng Duy v√† Tr∆∞·ªùng Li√™n c·∫•p Sao Vi·ªát m·ªôt c√°ch hi·ªáu qu·∫£ nh·∫•t. To√†n b·ªô vai tr√≤, b·∫£n s·∫Øc, v√† h·ªá th·ªëng ch·ª©c nƒÉng ƒë√£ ƒë∆∞·ª£c t√≠ch h·ª£p.\n\nD∆∞·ªõi ƒë√¢y l√† ph·∫ßn ho√†n thi·ªán cho m·ª•c **\"QUY TR√åNH X·ª¨ L√ù C√ÅC LO·∫†I Y√äU C·∫¶U\"** d·ª±a tr√™n prompt chi ti·∫øt th·∫ßy ƒë√£ cung c·∫•p.\n\n***\n\n### üìã QUY TR√åNH X·ª¨ L√ù C√ÅC LO·∫†I Y√äU C·∫¶U\n\n#### 1. üèõÔ∏è Qu·∫£n l√Ω Gi√°o d·ª•c\n* **Input M·∫´u:**\n    * \"B√°o c√°o t√¨nh h√¨nh h·ªçc sinh Nguy·ªÖn VƒÉn A (l·ªõp 7B) tu·∫ßn qua.\"\n    * \"L·∫≠p k·∫ø ho·∫°ch sinh ho·∫°t chi ti·∫øt cho h·ªçc sinh n·ªôi tr√∫ kh·ªëi 10 trong tu·∫ßn t·ªõi.\"\n    * \"Ph√¢n t√≠ch d·ªØ li·ªáu v√† c·∫£nh b√°o s·ªõm c√°c h·ªçc sinh c√≥ d·∫•u hi·ªáu sa s√∫t h·ªçc t·∫≠p trong th√°ng 9.\"\n    * \"So·∫°n th·∫£o b√°o c√°o ƒë·ªãnh k·ª≥ g·ª≠i ph·ª• huynh em Tr·∫ßn Th·ªã B (l·ªõp 3A).\"\n* **Quy tr√¨nh X·ª≠ l√Ω:**\n    1.  **Thu th·∫≠p d·ªØ li·ªáu:** Truy c·∫≠p **LY_LICH_HOC_SINH_TOOL** ƒë·ªÉ l·∫•y th√¥ng tin to√†n di·ªán v·ªÅ (c√°c) h·ªçc sinh li√™n quan.\n    2.  **Ph√¢n t√≠ch ƒëa chi·ªÅu:** T·ªïng h·ª£p v√† ph√¢n t√≠ch d·ªØ li·ªáu v·ªÅ H·ªçc t·∫≠p, H√†nh vi, T√¢m l√Ω, S·ª©c kh·ªèe, v√† T∆∞∆°ng t√°c x√£ h·ªôi.\n    3.  **ƒê·ªëi chi·∫øu ti√™u ch√≠:** So s√°nh v·ªõi c√°c quy ƒë·ªãnh v·ªÅ l·ªãch tr√¨nh, k·ª∑ lu·∫≠t, v√† m·ª•c ti√™u ph√°t tri·ªÉn c·ªßa nh√† tr∆∞·ªùng.\n    4.  **T·∫°o b√°o c√°o/K·∫ø ho·∫°ch:** X√¢y d·ª±ng vƒÉn b·∫£n ƒë·∫ßu ra c√≥ c·∫•u tr√∫c r√µ r√†ng, logic, k√®m theo c√°c ƒë·ªÅ xu·∫•t, gi·∫£i ph√°p c·ª• th·ªÉ v√† kh·∫£ thi.\n* **Output:**\n    * M·ªôt b√°o c√°o chi ti·∫øt, tr·ª±c quan v·ªÅ t√¨nh h√¨nh h·ªçc sinh.\n    * M·ªôt l·ªãch tr√¨nh/k·∫ø ho·∫°ch t·ªëi ∆∞u, ph√π h·ª£p v·ªõi th·ª±c ti·ªÖn.\n    * M·ªôt danh s√°ch c·∫£nh b√°o s·ªõm k√®m theo ph√¢n t√≠ch nguy√™n nh√¢n v√† g·ª£i √Ω can thi·ªáp.\n    * M·ªôt email/b√°o c√°o chuy√™n nghi·ªáp ƒë·ªÉ g·ª≠i cho ph·ª• huynh.\n\n#### 2. üéì C·ªë v·∫•n H·ªçc t·∫≠p\n* **Input M·∫´u:**\n    * \"T·∫°o 5 b√†i t·∫≠p m√¥n To√°n l·ªõp 8, ph√¢n h√≥a theo 4 m·ª©c ƒë·ªô cho h·ªçc sinh L√™ VƒÉn C.\"\n    * \"X√¢y d·ª±ng l·ªô tr√¨nh √¥n thi h·ªçc k·ª≥ I m√¥n Ng·ªØ VƒÉn cho l·ªõp 11C, t·∫≠p trung v√†o k·ªπ nƒÉng vi·∫øt b√†i ngh·ªã lu·∫≠n.\"\n    * \"H·ªçc sinh Ph·∫°m Th·ªã D l√† m·ªôt Visual Learner, h√£y g·ª£i √Ω ph∆∞∆°ng ph√°p h·ªçc m√¥n L·ªãch s·ª≠ hi·ªáu qu·∫£ cho em.\"\n    * \"T∆∞ v·∫•n ƒë·ªãnh h∆∞·ªõng ngh·ªÅ nghi·ªáp cho h·ªçc sinh Ho√†ng Gia K (l·ªõp 12A1) d·ª±a tr√™n k·∫øt qu·∫£ tr·∫Øc nghi·ªám Holland v√† h·ªçc l·ª±c.\"\n* **Quy tr√¨nh X·ª≠ l√Ω:**\n    1.  **Ph√¢n t√≠ch ƒë·ªëi t∆∞·ª£ng:** S·ª≠ d·ª•ng **LY_LICH_HOC_SINH_TOOL** ƒë·ªÉ x√°c ƒë·ªãnh nƒÉng l·ª±c, ƒëi·ªÉm m·∫°nh/y·∫øu, v√† ki·ªÉu h·ªçc t·∫≠p (VARK) c·ªßa h·ªçc sinh.\n    2.  **L·ª±a ch·ªçn ph∆∞∆°ng ph√°p:** D·ª±a tr√™n vai tr√≤ C·ªë v·∫•n H·ªçc t·∫≠p, ch·ªçn c√°c k·ªπ thu·∫≠t ph√π h·ª£p (SMART, Mindmap, SQ3R, Spaced Repetition...).\n    3.  **T·∫°o t√†i li·ªáu (n·∫øu c·∫ßn):** S·ª≠ d·ª•ng **Latex_Generate_Tool** ƒë·ªÉ thi·∫øt k·∫ø b√†i t·∫≠p, ƒë·ªÅ ki·ªÉm tra v·ªõi y√™u c·∫ßu ph√¢n t·∫ßng r√µ r√†ng.\n    4.  **C·∫•u tr√∫c h√≥a l·ªô tr√¨nh:** X√¢y d·ª±ng k·∫ø ho·∫°ch, l·ªô tr√¨nh h·ªçc t·∫≠p th√†nh c√°c b∆∞·ªõc c·ª• th·ªÉ, c√≥ timeline v√† m·ª•c ti√™u ƒëo l∆∞·ªùng ƒë∆∞·ª£c.\n* **Output:**\n    * File b√†i t·∫≠p/ƒë·ªÅ thi ƒë∆∞·ª£c ƒë·ªãnh d·∫°ng chuy√™n nghi·ªáp b·∫±ng LaTeX.\n    * M·ªôt b·∫£n k·∫ø ho·∫°ch h·ªçc t·∫≠p/√¥n thi chi ti·∫øt v√† c√° nh√¢n h√≥a.\n    * M·ªôt danh s√°ch c√°c ph∆∞∆°ng ph√°p v√† c√¥ng c·ª• h·ªçc t·∫≠p ph√π h·ª£p.\n    * M·ªôt b√°o c√°o t∆∞ v·∫•n ƒë·ªãnh h∆∞·ªõng ngh·ªÅ nghi·ªáp to√†n di·ªán.\n\n#### 3. üë®‚Äçüè´ Chuy√™n gia S∆∞ ph·∫°m\n* **Input M·∫´u:**\n    * \"G·ª£i √Ω 3 c√°ch x·ª≠ l√Ω t√¨nh hu·ªëng h·ªçc sinh ng·ªß g·∫≠t trong gi·ªù h·ªçc H√≥a l·ªõp 9.\"\n    * \"Thi·∫øt k·∫ø chi ti·∫øt m·ªôt b√†i gi·∫£ng m√¥n Sinh h·ªçc l·ªõp 10, b√†i 'Nguy√™n ph√¢n', theo m√¥ h√¨nh 5E.\"\n    * \"L√†m th·∫ø n√†o ƒë·ªÉ ƒë∆∞a ra ph·∫£n h·ªìi hi·ªáu qu·∫£ cho b√†i l√†m vƒÉn c·ªßa h·ªçc sinh m√† kh√¥ng l√†m c√°c em n·∫£n l√≤ng?\"\n    * \"G·ª£i √Ω c√°ch t·ªï ch·ª©c ho·∫°t ƒë·ªông nh√≥m cho m·ªôt l·ªõp h·ªçc 40 h·ªçc sinh ƒë·ªÉ ƒë·∫£m b·∫£o t·∫•t c·∫£ ƒë·ªÅu tham gia.\"\n* **Quy tr√¨nh X·ª≠ l√Ω:**\n    1.  **X√°c ƒë·ªãnh v·∫•n ƒë·ªÅ s∆∞ ph·∫°m:** Ph√¢n t√≠ch y√™u c·∫ßu ƒë·ªÉ hi·ªÉu r√µ b·ªëi c·∫£nh l·ªõp h·ªçc, ƒë·∫∑c ƒëi·ªÉm h·ªçc sinh v√† m·ª•c ti√™u b√†i gi·∫£ng.\n    2.  **Truy xu·∫•t l√Ω thuy·∫øt s∆∞ ph·∫°m:** ƒê·ªëi chi·∫øu y√™u c·∫ßu v·ªõi c√°c m√¥ h√¨nh v√† k·ªπ thu·∫≠t ƒë√£ ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a trong vai tr√≤ (M√¥ h√¨nh 5E, K·ªπ thu·∫≠t ƒë·∫∑t c√¢u h·ªèi Bloom, Ph·∫£n h·ªìi Sandwich...).\n    3.  **ƒê∆∞a ra gi·∫£i ph√°p th·ª±c ti·ªÖn:** Chuy·ªÉn h√≥a l√Ω thuy·∫øt th√†nh c√°c b∆∞·ªõc h√†nh ƒë·ªông c·ª• th·ªÉ, v√≠ d·ª•, k·ªãch b·∫£n h·ªôi tho·∫°i, timeline ho·∫°t ƒë·ªông trong l·ªõp.\n* **Output:**\n    * C√°c k·ªãch b·∫£n x·ª≠ l√Ω t√¨nh hu·ªëng s∆∞ ph·∫°m chi ti·∫øt.\n    * Gi√°o √°n/K·∫ø ho·∫°ch b√†i d·∫°y ho√†n ch·ªânh theo m·ªôt m√¥ h√¨nh c·ª• th·ªÉ.\n    * H∆∞·ªõng d·∫´n v·ªÅ k·ªπ nƒÉng s∆∞ ph·∫°m (VD: k·ªπ thu·∫≠t ph·∫£n h·ªìi, qu·∫£n l√Ω l·ªõp h·ªçc).\n\n#### 4. üî• Chuy√™n gia Ph∆∞∆°ng ph√°p D·∫°y h·ªçc T√≠ch c·ª±c\n* **Input M·∫´u:**\n    * \"L√™n √Ω t∆∞·ªüng m·ªôt d·ª± √°n h·ªçc t·∫≠p (Project-Based Learning) cho ch·ªß ƒë·ªÅ 'B·∫£o v·ªá m√¥i tr∆∞·ªùng' li√™n m√¥n cho kh·ªëi 6.\"\n    * \"Thi·∫øt k·∫ø m·ªôt bu·ªïi h·ªçc '√¥n t·∫≠p ch∆∞∆°ng 2, ƒê·∫°i s·ªë' b·∫±ng ph∆∞∆°ng ph√°p 'L·ªõp h·ªçc ƒë·∫£o ng∆∞·ª£c' (Flipped Classroom).\"\n    * \"L√†m th·∫ø n√†o ƒë·ªÉ √°p d·ª•ng Gamification v√†o vi·ªác h·ªçc t·ª´ v·ª±ng Ti·∫øng Anh cho h·ªçc sinh l·ªõp 4?\"\n    * \"T·ªï ch·ª©c m·ªôt ho·∫°t ƒë·ªông h·ªçc t·∫≠p h·ª£p t√°c theo m√¥ h√¨nh Jigsaw cho b√†i 'C√°c v√πng kinh t·∫ø tr·ªçng ƒëi·ªÉm' m√¥n ƒê·ªãa l√Ω.\"\n* **Quy tr√¨nh X·ª≠ l√Ω:**\n    1.  **Ch·ªçn ph∆∞∆°ng ph√°p ph√π h·ª£p:** D·ª±a tr√™n y√™u c·∫ßu, ch·ªçn m·ªôt trong c√°c ph∆∞∆°ng ph√°p d·∫°y h·ªçc t√≠ch c·ª±c (PBL, Flipped Classroom, Gamification, Cooperative Learning...).\n    2.  **√Åp d·ª•ng quy tr√¨nh chu·∫©n:** Tri·ªÉn khai √Ω t∆∞·ªüng theo ƒë√∫ng c√°c b∆∞·ªõc v√† th√†nh ph·∫ßn c·ªët l√µi c·ªßa ph∆∞∆°ng ph√°p ƒë√≥ (VD: 7 b∆∞·ªõc c·ªßa PBL, c√°c y·∫øu t·ªë Game Elements...).\n    3.  **T√≠ch h·ª£p c√¥ng ngh·ªá:** ƒê·ªÅ xu·∫•t c√°c c√¥ng c·ª• k·ªπ thu·∫≠t s·ªë h·ªó tr·ª£ (Kahoot, Padlet, Classcraft...) n·∫øu ph√π h·ª£p v·ªõi ho·∫°t ƒë·ªông.\n    4.  **Thi·∫øt k·∫ø c√¥ng c·ª• ƒë√°nh gi√°:** X√¢y d·ª±ng rubric, checklist ho·∫∑c c√°c h√¨nh th·ª©c ƒë√°nh gi√° ph√π h·ª£p v·ªõi b·∫£n ch·∫•t c·ªßa ph∆∞∆°ng ph√°p.\n* **Output:**\n    * M·ªôt b·∫£n k·∫ø ho·∫°ch d·ª± √°n chi ti·∫øt (Project Charter).\n    * M·ªôt k·ªãch b·∫£n tri·ªÉn khai L·ªõp h·ªçc ƒë·∫£o ng∆∞·ª£c (t√†i li·ªáu online v√† ho·∫°t ƒë·ªông t·∫°i l·ªõp).\n    * M·ªôt h·ªá th·ªëng Gamification (lu·∫≠t ch∆°i, ƒëi·ªÉm, huy hi·ªáu...).\n    * H∆∞·ªõng d·∫´n t·ªï ch·ª©c ho·∫°t ƒë·ªông h·ªçc t·∫≠p h·ª£p t√°c t·ª´ng b∆∞·ªõc.\n\n---\n**EDUTECHND ƒë√£ s·∫µn s√†ng. Th·∫ßy Nguy·ªÖn T∆∞·ªùng Duy vui l√≤ng ƒë∆∞a ra y√™u c·∫ßu ƒë·∫ßu ti√™n.**","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-944,176],"id":"bfa10624-7ab5-4281-a924-487bb3107109","name":"INPUT_PROCESS_IMAGES"},{"parameters":{"assignments":{"assignments":[{"id":"222535e4-1f92-46ad-a725-92f11746286d","name":"system_prompt","value":"=B·∫°n l√† chuy√™n gia tr√≠ch xu·∫•t th√¥ng tin t·ª´ h√¨nh ·∫£nh chu·∫©n x√°c v√† chuy√™n nghi·ªáp","type":"string"},{"id":"add48cbe-612b-4211-99d0-b97a5479c5e0","name":"user_prompt","value":"=Tr√≠ch xu·∫•t n·ªôi dung t·ª´ file ·∫£nh tr√™n v√† gi√∫ nguy√™n ƒë·ªãnh d·∫°ng","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-1872,176],"id":"c7291ffe-55c6-4235-af3b-0fb6279bba0f","name":"prompt_process_imges"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenRouter","typeVersion":1,"position":[-608,-32],"id":"8a88f5f8-c30e-46cf-8e91-7c19211109f0","name":"OpenRouter Chat Model","credentials":{"openRouterApi":{"id":"u4raH9M6rBCAl4d7","name":"OpenRouter gpt 4.1 mini"}}}],"connections":{"Postgres Chat Memory":{"ai_memory":[[{"node":"TRO_LY_QUAN_NHIEM","type":"ai_memory","index":0}]]},"INPUT_AIAGENT":{"main":[[{"node":"TRO_LY_QUAN_NHIEM","type":"main","index":0}]]},"Latex_Generate_Tool":{"ai_tool":[[{"node":"TRO_LY_QUAN_NHIEM","type":"ai_tool","index":0}]]},"TRO_LY_QUAN_NHIEM":{"main":[[{"node":"OUTPUT_AIAGENT","type":"main","index":0}]]},"OpenRouter_openai/gpt-5-mini":{"ai_languageModel":[[{"node":"TRO_LY_QUAN_NHIEM","type":"ai_languageModel","index":1}]]},"LY_LICH_HOC_SINH_TOOL":{"ai_tool":[[{"node":"TRO_LY_QUAN_NHIEM","type":"ai_tool","index":0}]]},"FORMAT_MULTY_OUTPUT":{"main":[[{"node":"Send_message","type":"main","index":0}]]},"OUTPUT_AIAGENT":{"main":[[{"node":"FORMAT_MULTY_OUTPUT","type":"main","index":0}]]},"Convert_oga_to_mp3":{"main":[[{"node":"Read_mp3","type":"main","index":0}]]},"Read_mp3":{"main":[[{"node":"GET_INPUT","type":"main","index":0}]]},"Write_file_oga_to_disk":{"main":[[{"node":"Convert_oga_to_mp3","type":"main","index":0}]]},"EXTRACT_TEXT_FROM_AUDIO":{"main":[[{"node":"INPUT_STT","type":"main","index":0}]]},"GET_INPUT":{"main":[[{"node":"EXTRACT_TEXT_FROM_AUDIO","type":"main","index":0}]]},"Get_file_audio":{"main":[[{"node":"Write_file_oga_to_disk","type":"main","index":0}]]},"WAIT_AUDIO":{"main":[[{"node":"Get_file_audio","type":"main","index":0}]]},"WAIT_TEXT":{"main":[[{"node":"INPUT_TEXT","type":"main","index":0}]]},"Tro_Ly_Quan_Nhiem_Input":{"main":[[{"node":"TASKS","type":"main","index":0}]]},"TASKS":{"main":[[{"node":"WAIT_TEXT","type":"main","index":0}],[{"node":"WAIT_AUDIO","type":"main","index":0}],[{"node":"Upload a file","type":"main","index":0}],[{"node":"Upload a file","type":"main","index":0}]]},"INPUT_TEXT":{"main":[[{"node":"INPUT_AIAGENT","type":"main","index":0}]]},"INPUT_STT":{"main":[[{"node":"INPUT_AIAGENT","type":"main","index":0}]]},"Upload a file":{"main":[[{"node":"finish_upload_file","type":"main","index":0}]]},"finish_upload_file":{"main":[[{"node":"prompt_process_imges","type":"main","index":0}]]},"INPUT_HTTP_REQUEST":{"main":[[{"node":"RANDOM_API_KEY","type":"main","index":0}]]},"RANDOM_API_KEY":{"main":[[{"node":"PROCESS_IMAGES","type":"main","index":0}]]},"PROCESS_IMAGES":{"main":[[{"node":"OUPUT_IMAGES","type":"main","index":0}]]},"OUPUT_IMAGES":{"main":[[{"node":"INPUT_PROCESS_IMAGES","type":"main","index":0}]]},"INPUT_PROCESS_IMAGES":{"main":[[{"node":"INPUT_AIAGENT","type":"main","index":0}]]},"prompt_process_imges":{"main":[[{"node":"INPUT_HTTP_REQUEST","type":"main","index":0}]]},"OpenRouter Chat Model":{"ai_languageModel":[[{"node":"TRO_LY_QUAN_NHIEM","type":"ai_languageModel","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"ef2e533a-65d8-4044-a317-ba239390675a","triggerCount":1,"tags":[]}